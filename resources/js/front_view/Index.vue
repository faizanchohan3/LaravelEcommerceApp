<template>
    <Layout>
        <template v-slot:content>
            <!-- slider-area -->
            <section class="slider-area position-relative">
                <div class="third-slider-active">
                    <div
                        class="third-slider-item third-slider-bg"
                        style="
                            background-image: url('front_assets/img/slider/third_slider_bg.jpg');
                        "
                    >
                        <div class="container custom-container-two">
                            <div class="third-slider-wrap">
                                <div class="row align-items-center">
                                    <div class="col-lg-6">
                                        <div class="slider-content">
                                            <h3
                                                class="sub-title"
                                                data-animation-in="fadeInUp"
                                                data-delay-in=".2"
                                                data-duration-in="1.5"
                                            >
                                                best offer !
                                            </h3>
                                            <h2
                                                class="title"
                                                data-animation-in="fadeInUp"
                                                data-delay-in=".4"
                                                data-duration-in="1.5"
                                            >
                                                Gym sports shoes
                                            </h2>
                                            <p
                                                data-animation-in="fadeInUp"
                                                data-delay-in=".6"
                                                data-duration-in="1.5"
                                            >
                                                Get up to 50% off Today Only
                                            </p>
                                            <a
                                                href="shop-sidebar.html"
                                                class="btn"
                                                data-animation-in="fadeInUp"
                                                data-delay-in=".8"
                                                data-duration-in="1.5"
                                                >Shop now</a
                                            >
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="third-slider-img">
                                            <div
                                                class="img-shape"
                                                style="
                                                    background-image: url('front_assets/img/slider/third_slide_shape.png');
                                                "
                                                data-animation-in="zoomIn"
                                                data-delay-in="1"
                                                data-duration-in="1.5"
                                            ></div>
                                            <img
                                                src="../assets/img/slider/third_slider_img01.png"
                                                alt=""
                                                class="main-img"
                                                data-animation-in="slideInRight2"
                                                data-delay-in="1"
                                                data-duration-in="1.5"
                                            />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div
                        class="third-slider-item third-slider-bg"
                        style="
                            background-image: url('front_assets/img/slider/third_slider_bg.jpg');
                        "
                    >
                        <div class="container custom-container-two">
                            <div class="third-slider-wrap">
                                <div class="row align-items-center">
                                    <div class="col-lg-6">
                                        <div class="slider-content">
                                            <h3
                                                class="sub-title"
                                                data-animation-in="fadeInUp"
                                                data-delay-in=".2"
                                                data-duration-in="1.5"
                                            >
                                                top deal !
                                            </h3>
                                            <h2
                                                class="title"
                                                data-animation-in="fadeInUp"
                                                data-delay-in=".4"
                                                data-duration-in="1.5"
                                            >
                                                athletes shoes
                                            </h2>
                                            <p
                                                data-animation-in="fadeInUp"
                                                data-delay-in=".6"
                                                data-duration-in="1.5"
                                            >
                                                Get up to 50% off Today Only
                                            </p>
                                            <a
                                                href="shop-sidebar.html"
                                                class="btn"
                                                data-animation-in="fadeInUp"
                                                data-delay-in=".8"
                                                data-duration-in="1.5"
                                                >Shop now</a
                                            >
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="third-slider-img">
                                            <div
                                                class="img-shape"
                                                data-background="../assets/img/slider/third_slide_shape.png"
                                                data-animation-in="zoomIn"
                                                data-delay-in="1"
                                                data-duration-in="1.5"
                                            ></div>
                                            <img
                                                src="../assets/img/slider/third_slider_img02.png"
                                                alt=""
                                                class="main-img"
                                                data-animation-in="slideInRight2"
                                                data-delay-in="1"
                                                data-duration-in="1.5"
                                            />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div
                        class="third-slider-item third-slider-bg"
                        style="
                            background-image: url('front_assets/img/slider/third_slider_bg.jpg');
                        "
                    >
                        <div class="container custom-container-two">
                            <div class="third-slider-wrap">
                                <div class="row align-items-center">
                                    <div class="col-lg-6">
                                        <div class="slider-content">
                                            <h3
                                                class="sub-title"
                                                data-animation-in="fadeInUp"
                                                data-delay-in=".2"
                                                data-duration-in="1.5"
                                            >
                                                top deal !
                                            </h3>
                                            <h2
                                                class="title"
                                                data-animation-in="fadeInUp"
                                                data-delay-in=".4"
                                                data-duration-in="1.5"
                                            >
                                                New sports shoes
                                            </h2>
                                            <p
                                                data-animation-in="fadeInUp"
                                                data-delay-in=".6"
                                                data-duration-in="1.5"
                                            >
                                                Get up to 50% off Today Only
                                            </p>
                                            <a
                                                href="shop-sidebar.html"
                                                class="btn"
                                                data-animation-in="fadeInUp"
                                                data-delay-in=".8"
                                                data-duration-in="1.5"
                                                >Shop now</a
                                            >
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="third-slider-img">
                                            <div
                                                class="img-shape"
                                                style="
                                                    background-image: url('front_assets/img/slider/third_slider_bg.jpg');
                                                "
                                                data-animation-in="zoomIn"
                                                data-delay-in="1"
                                                data-duration-in="1.5"
                                            ></div>
                                            <img
                                                src="../assets/img/slider/third_slider_img03.png"
                                                alt=""
                                                class="main-img"
                                                data-animation-in="slideInRight2"
                                                data-delay-in="1"
                                                data-duration-in="1.5"
                                            />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div
                        class="third-slider-item third-slider-bg"
                        style="
                            background-image: url('front_assets/img/slider/third_slider_bg.jpg');
                        "
                    >
                        <div class="container custom-container-two">
                            <div class="third-slider-wrap">
                                <div class="row align-items-center">
                                    <div class="col-lg-6">
                                        <div class="slider-content">
                                            <h3
                                                class="sub-title"
                                                data-animation-in="fadeInUp"
                                                data-delay-in=".2"
                                                data-duration-in="1.5"
                                            >
                                                best offer !
                                            </h3>
                                            <h2
                                                class="title"
                                                data-animation-in="fadeInUp"
                                                data-delay-in=".4"
                                                data-duration-in="1.5"
                                            >
                                                Gym sports shoes
                                            </h2>
                                            <p
                                                data-animation-in="fadeInUp"
                                                data-delay-in=".6"
                                                data-duration-in="1.5"
                                            >
                                                Get up to 50% off Today Only
                                            </p>
                                            <a
                                                href="shop-sidebar.html"
                                                class="btn"
                                                data-animation-in="fadeInUp"
                                                data-delay-in=".8"
                                                data-duration-in="1.5"
                                                >Shop now</a
                                            >
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="third-slider-img">
                                            <div
                                                class="img-shape"
                                                style="
                                                    background-image: url('front_assets/img/slider/third_slider_bg.jpg');
                                                "
                                                data-animation-in="zoomIn"
                                                data-delay-in="1"
                                                data-duration-in="1.5"
                                            ></div>
                                            <img
                                                src="../assets/img/slider/third_slider_img04.png"
                                                alt=""
                                                class="main-img"
                                                data-animation-in="slideInRight2"
                                                data-delay-in="1"
                                                data-duration-in="1.5"
                                            />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- slider-area-end -->

            <!-- shoes-category-area -->
            <div class="shoes-category-area pt-80 pb-30">
                <div class="container custom-container-two">
                    <div class="row justify-content-center">
                        <div
                            v-for="item in getcategory"
                            :key="item.id"
                            class="col-lg-4 col-md-6 col-sm-9"
                        >
                            <div class="shoes-cat-item mb-50">
                                <div class="thumb mb-30">
                                    <a href="shop-sidebar.html"
                                        ><img
                                            src="../assets/img/images/shoes_cat_img01.jpg"
                                            alt=""
                                    /></a>
                                </div>
                                <div class="content">
                                    <ul>
                                        <li>
                                            <a href="shop-sidebar.html">{{
                                                item.name
                                            }}</a>
                                        </li>
                                        <li><span>18</span></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- shoes-category-area-end -->

            <!-- trending-product-area -->
            <section
                class="trending-product-area trending-product-two gray-bg pt-95 pb-100"
            >
                <div class="container custom-container">
                    <div class="row justify-content-center">
                        <div class="col-xl-4 col-lg-6">
                            <div
                                class="section-title title-style-two text-center mb-50"
                            >
                                <h3 class="title">Trending Products</h3>
                            </div>
                        </div>
                    </div>
                    <div class="row no-gutters trending-product-grid">
                        <div class="col-2">
                            <div class="trending-products-list">
                                <h5>Category </h5>
                                <ul class="nav nav-tabs" id="trendingTab" role="tablist">
                                    <li  v-for="(catItem,index) in getshortArray(9)" :key="catItem.id" class="nav-item" role="presentation">
                                        <a :class="`nav-link `+showactive(1,index)" :id="`cat-tab`+catItem.id" data-toggle="tab" :href="`#cat`+catItem.id" role="tab" :aria-controls="`cat`+catItem.id" aria-selected="true">{{ catItem.name }}</a>
                                    </li>

                                </ul>
                                <p class="offer"><a href="#">Limited-Time Offer!</a></p>
                            </div>
                        </div>
                        <div class="col-10">
                            <div class="tab-content tp-tab-content" id="trendingTabContent">
                                <div v-for="(catItem,index) in getshortArray(9)" :key="catItem.id" :class="`tab-pane `+showactive(2,index)" :id="`cat`+catItem.id" role="tabpanel" :aria-labelledby="`cat-tab`+catItem.id">
                                    <div class="trending-products-banner banner-animation">
                                        <a href="shop-sidebar.html"><img  src="../assets/img/images/shoes_cat_img01.jpg"  style="width:362px;height:470px"alt=""></a>
                                    </div>
                                    <div v-if="catItem.product.length > 0" class="row trending-product-active">
                                        <div v-for="item in catItem.product" class="col">
                                            <div class="features-product-item">
                                                <div class="features-product-thumb">
                                                    <div class="discount-tag">-20%</div>
                                                    <a href="shop-details.html">
                                                        <img src="../assets/img/images/shoes_cat_img01.jpg"  style="width:266px;height:235px" alt="">
                                                    </a>
                                                    <div class="product-overlay-action">
                                                        <ul>
                                                            <li><a href="cart.html"><i class="far fa-heart"></i></a></li>
                                                            <li><a href="shop-details.html"><i class="far fa-eye"></i></a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="features-product-content">
                                                    <div class="rating">
                                                        <i class="far fa-star"></i>
                                                        <i class="far fa-star"></i>
                                                        <i class="far fa-star"></i>
                                                        <i class="far fa-star"></i>
                                                        <i class="far fa-star"></i>
                                                    </div>
                                                    <h5><a href="shop-details.html">{{ item.name }}</a></h5>
                                                    <div class="price-wrapper">
                                                        <span class="currency">$</span>
                                                        <span class="price">
                                                            {{ item.product__attr && item.product__attr.length > 0 ? item.product__attr[0].price : 'No price data' }}
                                                        </span>
                                                    </div>
                                                    <div class="features-product-bottom">
                                                        <ul>
                                                            <li class="color-option">
                                                                <span class="gray">{{ item.brand.text }}</span>
                                                                <span class="cyan"></span>
                                                                <span class="orange"></span>
                                                            </li>
                                                            <li class="limited-time"><a href="#">Limited-Time Offer!</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="features-product-cart"><a href="cart.html">add to cart</a></div>
                                            </div>
                                        </div>


                                    </div>
                                </div>


                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- trending-product-area-end -->


            <!-- new-arrival-area-end -->
            <section class="new-arrival-area pt-95 pb-45">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-xl-4 col-lg-6">
                            <div class="section-title title-style-two text-center mb-45">
                                <h3 class="title">New Arrival Collection</h3>
                            </div>
                        </div>
                    </div>
                    <div class="row justify-content-center">
                        <div class="col-lg-6">
                            <div class="new-arrival-nav mb-35">
                                <button
                                    v-for="(catitem, index) in getshortArray(9)"
                                    :key="catitem.id"
                                    :class="['filter-btn', { active: activeFilter === index }]"
                                    @click="setActiveFilter(index)"
                                    :data-filter="index === 0 ? '*' : '.cat-' + (index + 1)"
                                >
                                    {{ catitem.name }}
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="row new-arrival-active">
                        <div
                            v-for="(item, index) in filteredProducts"
                            :key="index"
                            class="col-xl-3 col-lg-4 col-sm-6 grid-item grid-sizer cat-two"
                        >
                            <div class="new-arrival-item text-center mb-50">
                                <div class="thumb mb-25">
                                    <div class="discount-tag new">New</div>
                                    <a href="shop-details.html">
                                        <img :src="item.image || '../assets/img/product/shoes_arrival_product01.jpg'" alt="">
                                    </a>
                                    <div class="product-overlay-action">
                                        <ul>
                                            <li><a href="cart.html"><i class="far fa-heart"></i></a></li>
                                            <li><a href="shop-details.html"><i class="far fa-eye"></i></a></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="content">
                                    <h5><a href="shop-details.html">{{ item.name }}</a></h5>
                                    <span class="price">${{ item.product__attr && item.product__attr.length > 0 ? item.product__attr[0].price : '0.00' }}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- shoes-banner-area -->
            <section class="shoes-banner-area pt-70">
                <div class="container">
                    <div class="shoes-banner-active">
                        <div
                            class="shoes-banner-bg"
                            style="
                                background-image: url('front_assets/img/bg/shoes-banner_bg.jpg');
                            "
                        >
                            <div class="row">
                                <div class="col-12">
                                    <div class="shoes-banner-content">
                                        <h6>Athletes Shoes</h6>
                                        <h2>
                                            9 Best
                                            <span>Shoes for</span> Standing All
                                            Day Review 2020
                                        </h2>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div
                            class="shoes-banner-bg"
                            style="
                                background-image: url('front_assets/img/bg/shoes-banner_bg.jpg');
                            "
                        >
                            <div class="row">
                                <div class="col-12">
                                    <div class="shoes-banner-content">
                                        <h6>Athletes Shoes</h6>
                                        <h2>
                                            3 Best
                                            <span>Shoes for</span> Standing All
                                            Day Review 2021
                                        </h2>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div
                            class="shoes-banner-bg"
                            style="
                                background-image: url('front_assets/img/bg/shoes-banner_bg.jpg');
                            "
                        >
                            <div class="row">
                                <div class="col-12">
                                    <div class="shoes-banner-content">
                                        <h6>Athletes Shoes</h6>
                                        <h2>
                                            8 Best
                                            <span>Shoes for</span> Standing All
                                            Day Review 2021
                                        </h2>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- shoes-banner-area-end -->

            <!-- promo-services -->
            <section class="promo-services pt-70 pb-25">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-lg-3 col-md-6 col-sm-8">
                            <div class="promo-services-item mb-40">
                                <div class="icon">
                                    <img
                                        src="../assets/img/icon/promo_icon01.png"
                                        alt=""
                                    />
                                </div>
                                <div class="content">
                                    <h6>payment & delivery</h6>
                                    <p>Delivered, when you receive arrives</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6 col-sm-8">
                            <div class="promo-services-item mb-40">
                                <div class="icon">
                                    <img
                                        src="../assets/img/icon/promo_icon02.png"
                                        alt=""
                                    />
                                </div>
                                <div class="content">
                                    <h6>Return Product</h6>
                                    <p>Retail, a Product Return Process</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6 col-sm-8">
                            <div class="promo-services-item mb-40">
                                <div class="icon">
                                    <img
                                        src="../assets/img/icon/promo_icon03.png"
                                        alt=""
                                    />
                                </div>
                                <div class="content">
                                    <h6>money back guarantee</h6>
                                    <p>Options Including 24/7</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6 col-sm-8">
                            <div class="promo-services-item mb-40">
                                <div class="icon">
                                    <img
                                        src="../assets/img/icon/promo_icon04.png"
                                        alt=""
                                    />
                                </div>
                                <div class="content">
                                    <h6>Quality support</h6>
                                    <p>Support Options Including 24/7</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- promo-services-end -->

            <!-- instagram-post-area -->
            <div class="instagram-post-area">
                <div class="container-fluid p-0 fix">
                    <div class="row no-gutters insta-active">
                        <div class="col">
                            <div class="insta-post-item">
                                <a href="#">
                                    <i class="fab fa-instagram"></i>
                                    <img
                                        src="../assets/img/instagram/s_insta_post01.jpg"
                                        alt=""
                                    />
                                </a>
                            </div>
                        </div>
                        <div class="col">
                            <div class="insta-post-item">
                                <a href="#">
                                    <i class="fab fa-instagram"></i>
                                    <img
                                        src="../assets/img/instagram/s_insta_post02.jpg"
                                        alt=""
                                    />
                                </a>
                            </div>
                        </div>
                        <div class="col">
                            <div class="insta-post-item">
                                <a href="#">
                                    <i class="fab fa-instagram"></i>
                                    <img
                                        src="../assets/img/instagram/s_insta_post03.jpg"
                                        alt=""
                                    />
                                </a>
                            </div>
                        </div>
                        <div class="col">
                            <div class="insta-post-item">
                                <a href="#">
                                    <i class="fab fa-instagram"></i>
                                    <img
                                        src="../assets/img/instagram/s_insta_post04.jpg"
                                        alt=""
                                    />
                                </a>
                            </div>
                        </div>
                        <div class="col">
                            <div class="insta-post-item">
                                <a href="#">
                                    <i class="fab fa-instagram"></i>
                                    <img
                                        src="../assets/img/instagram/s_insta_post05.jpg"
                                        alt=""
                                    />
                                </a>
                            </div>
                        </div>
                        <div class="col">
                            <div class="insta-post-item">
                                <a href="#">
                                    <i class="fab fa-instagram"></i>
                                    <img
                                        src="../assets/img/instagram/s_insta_post03.jpg"
                                        alt=""
                                    />
                                </a>
                            </div>
                        </div>
                        <div class="col">
                            <div class="insta-post-item">
                                <a href="#">
                                    <i class="fab fa-instagram"></i>
                                    <img
                                        src="../assets/img/instagram/s_insta_post04.jpg"
                                        alt=""
                                    />
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- instagram-post-area-end -->
        </template>
    </Layout>
</template>

<script>
import Layout from "./layout.vue";
import axios from "axios";
import getheadercate from "./providers.js";

export default {
    name: "Index",
    data() {
        return {
            getbannerdata: [],
            getcategory: [],
            selectedCategory: null,
            getproduct: [],
            activeFilter: 0,
        };
    },
    computed: {
        filteredProducts() {
            if (this.activeFilter === 0) {
                return this.getproduct;
            }
            const selectedCategory = this.getshortArray(9)[this.activeFilter];
            if (!selectedCategory) return [];
            return this.getproduct.filter(product => product.category_id === selectedCategory.id);
        }
    },
    mounted() {
        this.getdata();
    },
    components: {
        Layout,
    },
    methods: {
        setActiveFilter(index) {
            this.activeFilter = index;
        },
        showactive(type, index) {
            if (type == 1 && index == 0) {
                return "active";
            } else if (type == 2 && index == 0) {
                return "show active";
            } else return "";
        },
        getshortArray(size) {
            return this.getbannerdata.slice(0, size);
        },
        async getdata() {
            let data = await axios.get(getheadercate().gethomedata);
            this.getbannerdata = data.data.data.data.category;
            this.getcategory = data.data.data.data.sub_category;
            this.getproduct = data.data.data.data.product;
        },
    },
};
</script>

<style scoped>
.filter-btn {
    padding: 8px 20px;
    margin: 0 5px;
    border: 1px solid #ddd;
    background: transparent;
    cursor: pointer;
    transition: all 0.3s ease;
}

.filter-btn.active {
    background: #333;
    color: #fff;
    border-color: #333;
}

.new-arrival-nav {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
    margin-bottom: 30px;
}

.new-arrival-nav button {
    min-width: 120px;
    text-align: center;
}

/* Styles for the product grid */
.new-arrival-active {
    display: flex;
    flex-wrap: wrap;
    margin: 0 -15px;
    position: relative;
    z-index: 2;
}

.grid-item {
    padding: 0 15px;
    margin-bottom: 30px;
    flex-basis: 25%;
    max-width: 25%;
    width: 100%;
    box-sizing: border-box;
    transition: all 0.3s ease;
}

/* Adjust grid item width for different screen sizes */
@media (max-width: 1199px) {
    .grid-item {
        flex-basis: 33.33%;
        max-width: 33.33%;
    }
}

@media (max-width: 991px) {
    .grid-item {
        flex-basis: 50%;
        max-width: 50%;
    }
}

@media (max-width: 575px) {
    .grid-item {
        flex-basis: 100%;
        max-width: 100%;
    }
}

.new-arrival-item {
    background: #fff;
    padding: 15px;
    border-radius: 5px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
    height: 100%;
    display: flex;
    flex-direction: column;
}

.new-arrival-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

.thumb {
    position: relative;
    overflow: hidden;
    margin-bottom: 15px;
}

.thumb img {
    width: 100%;
    height: auto;
    object-fit: cover;
}

.discount-tag {
    position: absolute;
    top: 10px;
    left: 10px;
    background: #ff4444;
    color: #fff;
    padding: 5px 10px;
    border-radius: 3px;
    font-size: 12px;
    z-index: 1;
}

.product-overlay-action {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(255,255,255,0.9);
    padding: 10px;
    transition: all 0.3s ease;
    opacity: 0;
    visibility: hidden;
    z-index: 1;
}

.new-arrival-item:hover .product-overlay-action {
    bottom: 0;
    opacity: 1;
    visibility: visible;
}

.product-overlay-action ul {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin: 0;
    padding: 0;
    list-style: none;
}

.product-overlay-action a {
    color: #333;
    font-size: 18px;
}

.content {
    padding: 10px 0 0;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

.content h5 {
    margin: 0 0 5px;
    font-size: 16px;
}

.content h5 a {
    color: #333;
    text-decoration: none;
}

.price {
    color: #ff4444;
    font-weight: bold;
    font-size: 18px;
}
</style>